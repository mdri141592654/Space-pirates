<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Space Trader</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

    body {
      margin: 0;
      padding: 0;
      font-family: 'Orbitron', sans-serif;
      background-color: black;
      color: #00ffcc;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    #game {
      width: 600px;
      border: 2px solid #00ffcc;
      padding: 20px;
      background-color: rgba(0, 0, 0, 0.9);
    }

    .menu button {
      display: block;
      width: 100%;
      margin: 5px 0;
      padding: 10px;
      background: none;
      border: 1px solid #00ffcc;
      color: #00ffcc;
      cursor: pointer;
      text-align: left;
    }

    .menu button:hover:enabled {
      background-color: #00ffcc;
      color: black;
    }

    .menu button:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .info {
      margin-bottom: 20px;
    }

    .row {
      display: flex;
      justify-content: space-between;
    }

    /* Info-Popups */
    .info-box {
      border: 1px solid #00ffcc;
      background-color: rgba(0, 0, 0, 0.95);
      padding: 10px;
      margin-top: 10px;
      font-size: 14px;
      line-height: 1.4em;
    }

    /* Einheitliches Styling für Handel/i/Go */
    .action-row {
      display: flex;
      justify-content: flex-end;
      gap: 5px;
      margin-top: 5px;
    }

    .action-row button {
      background-color: #00ffcc;
      color: black;
      border: none;
      padding: 5px 10px;
      min-width: 50px;
      text-align: center;
      cursor: pointer;
    }

    .action-row button:hover:enabled {
      background-color: #00997a;
      color: white;
    }
  </style>
</head>
<body>
  <div id="game">
    <div id="info" class="info"></div>
    <div id="menu" class="menu"></div>
  </div>

  <script>
    const menu = document.getElementById('menu');
    const info = document.getElementById('info');

    const playerData = {
      credits: 1000,
      cargo: 0,
      maxCargo: 100,
      fuel: 50,
      food: 20,
      resources: {
        rohstoffe: 0,
        luxus: 0,
        waffen: 0,
        drogen: 0,
        kunstwerke: 0,
        technik: 0
      }
    };

    const planets = {
      Kryton: "Reich an Rohstoffen. Hier schürfen riesige Maschinen in den Minen, und Händler wetteifern um seltene Metalle und Kristalle. Ein Paradies für Rohstoffhändler – wenn man den Staub erträgt.",
      Aurelia: "Ein goldener Planet mit wohlhabenden Bewohnern, die immer auf der Suche nach exotischen Wertgegenständen sind. Ihre gläsernen Kuppelstädte glänzen wie Juwelen im All.",
      "Dravon-4": "Offiziell ein toter, karger Planet mit wenigen Ressourcen. Doch wer die richtigen Leute kennt, entdeckt hier einen Umschlagplatz für alles, was das Imperium verbietet – Waffen, Drogen, seltene Technik und Kunstwerke.",
      Elystra: "Ein schillernder Unterhaltungsplanet. Casinos, Arenen und endlose Feste. Hier verschlingt die Bevölkerung Unmengen an Lebensmitteln und berauschenden Substanzen.",
      "Nexaris Output": "Eine alternde Weltraumstation am Rand der bekannten Routen. Offiziell nur ein Bahnhof für Händler, doch im Inneren trifft man auf zwielichtige Gestalten, Schwarzmarkthändler und mögliche zukünftige Crew-Mitglieder."
    };

    function updateMainMenu() {
      info.innerHTML = `
        <div class="row"><span>Schiff: 100%</span><span>${playerData.credits} :Credits</span></div>
        <div class="row"><span>Kleinraumschiff ${playerData.cargo}/${playerData.maxCargo}</span><span>21.05.4025</span></div>
        <div class="row"><span>Ort: Nexaris Sektor / Orbit / Zorak</span></div>
      `;
    }

    function resetToMainMenu() {
      updateMainMenu();
      menu.innerHTML = `
        <button onclick="showShip()">Schiff</button>
        <button onclick="showRadar()">Radar</button>
        <button onclick="showMarket()">Markt</button>
      `;
    }

    function showShip() {
      info.innerHTML = "<div>Schiffssysteme: Alles im grünen Bereich.</div>";
      menu.innerHTML = `<button onclick="resetToMainMenu()">Zurück</button>`;
    }

    function showRadar() {
      updateMainMenu();
      menu.innerHTML = `
        ${Object.keys(planets).map(p => `
          <div class="row">
            <span>${p}</span>
            <div class="action-row">
              <button onclick="showInfo('${p}')">i</button>
              <button onclick="goToPlanet('${p}')">Go</button>
            </div>
          </div>
        `).join("")}
        <button onclick="resetToMainMenu()">Zurück</button>
      `;
    }

    function showInfo(planet) {
      const description = planets[planet];
      info.innerHTML = `
        <div class="row"><span>${planet}</span></div>
        <div class="info-box">${description}</div>
      `;
    }

    function goToPlanet(planet) {
      info.innerHTML = `<div>Reise nach ${planet} wird vorbereitet...</div>`;
      // Funktionalität im nächsten Schritt
    }

    function showMarket() {
      info.innerHTML = "<div>Marktplatz – wähle eine Option:</div>";
      menu.innerHTML = `
        <button onclick="showFuelMarket()">Treibstoff</button>
        <button onclick="showFoodMarket()">Nahrung</button>
        <button onclick="showResourcesMarket()">Rohstoffe</button>
        <button onclick="resetToMainMenu()">Zurück</button>
      `;
    }

    function showFuelMarket() {
      info.innerHTML = "<div>Treibstoff Markt</div>";
      menu.innerHTML = `
        <button onclick="buyFuel()">Kaufen (+10 Treibstoff für 100 Credits)</button>
        <button onclick="resetToMainMenu()">Zurück</button>
      `;
    }

    function buyFuel() {
      if (playerData.credits >= 100) {
        playerData.credits -= 100;
        playerData.fuel += 10;
        info.innerHTML = `<div>Gekauft: 10 Treibstoff. Gesamt: ${playerData.fuel}</div>`;
      } else {
        info.innerHTML = `<div>Nicht genug Credits.</div>`;
      }
      updateMainMenu();
    }

    function showFoodMarket() {
      info.innerHTML = "<div>Nahrungs Markt</div>";
      menu.innerHTML = `
        <button onclick="buyFood()">Kaufen (+5 Nahrung für 50 Credits)</button>
        <button onclick="resetToMainMenu()">Zurück</button>
      `;
    }

    function buyFood() {
      if (playerData.credits >= 50) {
        playerData.credits -= 50;
        playerData.food += 5;
        info.innerHTML = `<div>Gekauft: 5 Nahrung. Gesamt: ${playerData.food}</div>`;
      } else {
        info.innerHTML = `<div>Nicht genug Credits.</div>`;
      }
      updateMainMenu();
    }

    function showResourcesMarket() {
      info.innerHTML = "<div>Rohstoff Markt</div>";
      menu.innerHTML = `
        <button onclick="buyResource('rohstoffe', 100, 1)">Rohstoffe kaufen</button>
        <button onclick="sellResource('rohstoffe', 80, 1)">Rohstoffe verkaufen</button>
        <button onclick="resetToMainMenu()">Zurück</button>
      `;
    }

    function buyResource(type, price, amount) {
      if (playerData.credits >= price && playerData.cargo + amount <= playerData.maxCargo) {
        playerData.credits -= price;
        playerData.resources[type] += amount;
        playerData.cargo += amount;
        info.innerHTML = `<div>Gekauft: ${amount} ${type}. Gesamt: ${playerData.resources[type]}</div>`;
      } else {
        info.innerHTML = `<div>Kauf nicht möglich.</div>`;
      }
      updateMainMenu();
    }

    function sellResource(type, price, amount) {
      if (playerData.resources[type] >= amount) {
        playerData.credits += price;
        playerData.resources[type] -= amount;
        playerData.cargo -= amount;
        info.innerHTML = `<div>Verkauft: ${amount} ${type}. Gesamt: ${playerData.resources[type]}</div>`;
      } else {
        info.innerHTML = `<div>Nicht genug Waren zum Verkaufen.</div>`;
      }
      updateMainMenu();
    }

    resetToMainMenu();
  </script>
</body>
</html>
